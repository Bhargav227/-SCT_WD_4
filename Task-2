import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt

# Load data
df = sns.load_dataset('titanic')

# Inspect data
print(df.head())
print(df.info())
print(df.describe())

# Data cleaning
# Data cleaning
df['age'] = df['age'].fillna(df['age'].median())   # Assign back to the column
df = df.drop(columns=['deck'])                     # Assign back to df
df = df.dropna(subset=['embarked'])                # Assign back to df

# Feature engineering
df['family_size'] = df['sibsp'] + df['parch'] + 1

# Feature engineering
df['family_size'] = df['sibsp'] + df['parch'] + 1

# EDA
sns.countplot(x='survived', data=df)
plt.show()
sns.barplot(x='sex', y='survived', data=df)
plt.show()
sns.histplot(df['age'], bins=20)
plt.show()
